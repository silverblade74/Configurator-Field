# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SHI Field Configurator â€“ Recommendation Rules
# ---------------------------------------------------------------------------
# â€¢ Each top-level key (datacenter, power_cooling, â€¦) maps to a tab/section
#   in the Streamlit UI.  The key is rendered as the domain title.
# â€¢ Under each key is an *ordered* list of rules.  The app evaluates them
#   top-to-bottom and uses the FIRST rule whose `when` conditions all match.
# â€¢ A rule consists of:
#     when: {field: value, field2: value2, â€¦}
#       - Keys must match the form-state variable names in app.py
#       - Values are *string-matched* unless you prefix with ">="
#         (numeric â€œgreater-or-equalâ€ comparison)
#       - Lists work for multiselect fields (e.g., sec_frameworks)
#     recommend: |
#       Multi-line Markdown/emoji text shown to the AE when the rule fires
#
# â€¢ You can inject captured values inside {{double_braces}} for dynamic text.
# â€¢ Leave off `when:` to create a default â€œcatch-allâ€ rule that always matches
#   if no earlier rule fires.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

datacenter:
  # 1ï¸âƒ£ AI / ML workload
  - when: {dc_workload: "AI / ML"}
    recommend: |
      ðŸ”¹ Deploy **NVIDIA GB200 NVL72** GPU pods with **Dell PowerStore Prime QLC**
      arrays for high-density flash and 30Ã— faster model training.

  # 2ï¸âƒ£ VDI workload
  - when: {dc_workload: "VDI"}
    recommend: |
      ðŸ”¹ Run **Nutanix Cloud Platform** on **Dell VxRail D-Series** edge nodes
      with **NVIDIA L40S** GPUs for AI-assisted virtual desktops.

  # 3ï¸âƒ£ Default catch-all
  - recommend: |
      ðŸ”¹ Standardise on **Cisco UCS X-Series** with UCS AI Director for
      composable rack-scale infrastructure.

power_cooling:
  - when: {cooling_type: "Immersion"}
    recommend: |
      ðŸ”¹ Size CDUs for â‰¥ {{rack_density_kw}} kW racks and use Shell M-110
      dielectric coolant; plan Tier-IV power isolation.

  - when: {rack_density_kw: ">=30"}
    recommend: |
      ðŸ”¹ Adopt direct-to-chip liquid loops; upgrade chiller Î”T to 8 Â°C.

  - recommend: |
      ðŸ”¹ Implement hot-aisle containment and upgrade CRAH units if rack
      density exceeds 15 kW.

cybersecurity:
  - when: {sec_frameworks: ["CJIS"]}
    recommend: |
      ðŸ”¹ Integrate **Palo Alto Cortex XSIAM** with **Okta Adaptive MFA**
      to automate CJIS Section 5 badge compliance.

  - recommend: |
      ðŸ”¹ Deploy **CrowdStrike Falcon Complete XDR 3.0** with **Zscaler SSE**
      for end-to-end zero-trust posture.

networking:
  - when: {net_fabric: "Leaf-Spine"}
    recommend: |
      ðŸ”¹ Build an **Arista 7800 / 7050X5** 800 G fabric and orchestrate
      with **Juniper Apstra 5.x** for intent-based operations.

  - when: {net_fabric: "SD-WAN"}
    recommend: |
      ðŸ”¹ Roll out **Versa Unified SASE** across {{site_count}} sites and
      add Wi-Fi 7 **Mist AP45** campus access points.

  - recommend: |
      ðŸ”¹ Refresh the 3-tier core with **Juniper QFX5700** or **Aruba CX10300**.

saas_cloud:
  - when: {migration_interest: "Yes"}
    recommend: |
      ðŸ”¹ Launch an **SHI One Azure Landing-Zone Accelerator** and extend
      to **AWS Bedrock** for sovereign GenAI RAG workloads.

  - when: {migration_interest: "Exploring"}
    recommend: |
      ðŸ”¹ Schedule an **SHI AI-Readiness & FinOps workshop** to benchmark
      cloud TCO vs. on-prem Grace-Blackwell clusters.

  - recommend: |
      ðŸ”¹ Maintain current on-prem workloads; revisit cloud strategy after
      FY{{budget_band}} budget review.

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# EXPANSION TIPS (keep or delete these comments)
# ---------------------------------------------------------------------------
# â€¢ Add more rules by copying the "- when: â€¦" block and adjusting conditions.
# â€¢ Use Markdown for bullets, bold, links, emojis (Streamlit renders them).
# â€¢ Numeric comparisons: only ">=" is supported in this simple parser.
#   Extend app.py if you need <=, ranges, or AND/OR logic.
# â€¢ Multiselect fields (e.g., sec_frameworks) match if the list *contains* the
#   value you specify in the rule.
# â€¢ Catch-all rule (no `when`) should always be last.
# â€¢ After editing, commit & push â€“ app reloads new rules automatically.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
